<Window x:Class="LibraryApp.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Библиотека" Height="600" Width="900">
    <DockPanel>
        <StackPanel Orientation="Horizontal" DockPanel.Dock="Top" Margin="5">
            <Button Content="Добавить" Click="Add_Click" Margin="2"/>
            <Button Content="Удалить" Click="Delete_Click" Margin="2"/>
            <Button Content="Сохранить" Click="SaveChanges_Click" Margin="2"/>
        </StackPanel>

        <TabControl x:Name="MainTab" Margin="5">
            <!-- Книги -->
            <TabItem Header="Книги">
                <DataGrid x:Name="BooksGrid" AutoGenerateColumns="False" IsReadOnly="False" Margin="5">
                    <DataGrid.Columns>
                        <DataGridTextColumn Header="ID" Binding="{Binding BookId}" IsReadOnly="True"/>
                        <DataGridTextColumn Header="Автор" Binding="{Binding Author}"/>
                        <DataGridTextColumn Header="Название" Binding="{Binding Title}"/>
                        <DataGridTextColumn Header="Год" Binding="{Binding Year}"/>
                        <DataGridTextColumn Header="Цена" Binding="{Binding Price}"/>
                        <DataGridTextColumn Header="Экземпляры" Binding="{Binding CopiesCount}"/>
                        <DataGridTextColumn Header="Аннотация" Binding="{Binding Annotation}"/>
                    </DataGrid.Columns>
                </DataGrid>
            </TabItem>

            <!-- Читатели -->
            <TabItem Header="Читатели">
                <DataGrid x:Name="ReadersGrid" AutoGenerateColumns="False" IsReadOnly="False" Margin="5">
                    <DataGrid.Columns>
                        <DataGridTextColumn Header="ID" Binding="{Binding ReaderId}" IsReadOnly="True"/>
                        <DataGridTextColumn Header="ФИО" Binding="{Binding FullName}"/>
                        <DataGridTextColumn Header="Адрес" Binding="{Binding Address}"/>
                        <DataGridTextColumn Header="Телефон" Binding="{Binding Phone}"/>
                    </DataGrid.Columns>
                </DataGrid>
            </TabItem>

            <!-- Выдачи -->
            <TabItem Header="Выдачи">
                <DataGrid x:Name="LoansGrid" AutoGenerateColumns="False" IsReadOnly="False" Margin="5">
                    <DataGrid.Columns>
                        <DataGridTextColumn Header="ID" Binding="{Binding LoanId}" IsReadOnly="True"/>

                        <DataGridComboBoxColumn Header="Книга"
                                                SelectedValueBinding="{Binding BookId}"
                                                SelectedValuePath="BookId"
                                                DisplayMemberPath="Title" />

                        <DataGridComboBoxColumn Header="Читатель"
                                                SelectedValueBinding="{Binding ReaderId}"
                                                SelectedValuePath="ReaderId"
                                                DisplayMemberPath="FullName" />

                        <DataGridTextColumn Header="Дата выдачи" Binding="{Binding IssueDate, StringFormat=d}"/>
                        <DataGridTextColumn Header="Дата возврата" Binding="{Binding ReturnDate, StringFormat=d}"/>
                        <DataGridCheckBoxColumn Header="Возвращена" Binding="{Binding Returned}"/>
                    </DataGrid.Columns>
                </DataGrid>
            </TabItem>
        </TabControl>
    </DockPanel>
</Window>